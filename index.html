<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GameMaker</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  <div class="container">
    <h1>GameMaker in DIDG501</h1>

    <p>New workshop material appears in the Google Doc first: <a target="_blank" href="https://goo.gl/TO6WnS">https://goo.gl/TO6WnS</a></p>

    <h2>About GameMaker</h2>

    <p>We are using GameMaker to make a 2d platform game.</p>

    <p>GameMaker is a popular game-making tool for beginners. It's relatively easy to learn, but can take you all the way to making commercially successful games.</p>

    <p>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseExampleGames" aria-expanded="false" aria-controls="collapseExample">
        Can I see some example games made in GameMaker?
      </button>
    </p>
    <div class="collapse" id="collapseExampleGames">
      <div class="card card-block">
        Some locally made GameMaker games:</p>

       <ul>
         <li><a target="_blank" href="http://sergiocornaga.tumblr.com/post/7416495044/you-have-to-go-down-the-hole-2009">Super Go Down the Hole</a> by Sergio Cornaga</li>
         <li><a target="_blank" href="http://www.onegameamonth.com/Liannethy">Narcoleptic Chicken Kid</a> by Lianne Booton</li>
       </ul>

       <p>Some commerically successful GameMaker games:</p>

       <ul>
         <li><a target="_blank" href="http://store.steampowered.com/app/206190/">Gunpoint</a> by Tom Francis – around 700,000 copies sold</li>
         <li><a target="_blank" href="http://store.steampowered.com/agecheck/app/219150/">Hotline Miami</a>
           by Jonatan Söderström and Dennis Wedin – about 2 million copies sold</li>
       </ul>
      </div>
    </div>

    <h2>How to learn GameMaker</h2>

    <h3>1. Watch these tutorial videos:</h3>

    <p><a target="_blank" href="https://youtu.be/hzMNunoPd0o">Gamemaker basics</a> by Shaun Spalding</p>
    <p><a target="_blank" href="http://www.yoyogames.com/learn/platform">Platform Game series</a> by Shaun Spalding (this is a series of 12 videos)</p>

    <h3>2. If you have a question, Google it.</h3>

    <p>For example:</p>

     <ul>
       <li><a target="_blank" href="https://www.google.co.nz/webhp?ion=1&espv=2&ie=UTF-8#q=gamemaker+menu+screen">gamemaker menu screen</a></li>
       <li><a target="_blank" href="https://www.google.co.nz/webhp?ion=1&espv=2&ie=UTF-8#q=how+to+make+jump+through+platforms+in+gamemaker">how to make jump through platforms in gamemaker</a></li>
       <li><a target="_blank" href="https://www.google.co.nz/webhp?ion=1&espv=2&ie=UTF-8#q=restart+current+level+gamemaker">restart current level gamemaker</a></li>
     </ul>

     <h3>3. Use the built-in help</h3>

     <p>In GameMaker, press F1 to open the help. This includes a reference manual which lists every command you can use while coding in GameMaker.</p>

     <p>While writing code, If you start typing a command then wait for a moment, GameMaker will display a list of commands you might be typing.</p>

     <p>For example, type in 'place' then wait for a second (or press Ctrl) and this will appear:</p>
     <img src="images/autocomplete.png">

     <h3>4. This course!</h3>

     <p>The classes in this course should be helpful if you are finding it difficult to learn from the resources above.</p>

     <h2>GameMaker at AUT</h2>

     <p>This term, we are using GameMaker 1.4.</p>

    <p>
      <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseGMatHome" aria-expanded="false" aria-controls="collapseExample">
        How can I get GameMaker 1.4 at home?
      </button>
    </p>
    <div class="collapse" id="collapseGMatHome">
      <div class="card card-block">
        <p>We are using GameMaker 1.4, which only works on Windows computers.</p>

        <p>Due to recent changes, getting GameMaker for free is a little bit tricky. Follow these steps.</p>

       <p>(The trick is to install GameMaker 1.3, which comes with a free licence, then upgrade to GameMaker 1.4, which no longer comes with a free licence as of 8th March 2017.)</p>

       <ul>
       <li>Go to <a target="_blank" href="http://ccm.net/download/download-23641-gamemaker-studio-standard">http://ccm.net/download/download-23641-gamemaker-studio-standard</a></li>
       <li>Click the green download button (It says Download Freeware 172.7 MB)</li>
       <li>Wait for the download to finish.</li>
       <li>Run the installer and then start GameMaker Studio 1.3</li>
       <li>Two windows will pop up. One says “A new version of GameMaker-Studio is available”.</li>
       <li>Choose Remind Me Later - we do not want to update to the new version yet!</li>
       <li>The other window has 3 options. Choose the middle option by entering your email address and clicking ‘register’. Follow the process until you are emailed a licence key. Enter this in the box and continue. Then close GameMaker and reopen it.</li>
       <li>GameMaker will ask you t.o update again. Now you have a licence, so it is OK to update to the latest version.</li>
     </ul>
   </div>
 </div>

 <p>
   <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseTipsAtAUT" aria-expanded="false" aria-controls="collapseExample">
     Help, GameMaker is too slow at AUT <br> Or GameMaker won't open my game at AUT
   </button>
 </p>
 <div class="collapse" id="collapseTipsAtAUT">
   <div class="card card-block">
        <h3>Speed up saving, running and backups</h3>
        <p>In GameMaker, go to File -> Preferences.</p>

        <p>Near the bottom, you will see paths for Temp directory, Asset Cache directory, Backup directory and Home directory. Change all of these to a folder on your computer's desktop.</p>
        <p>This will make GameMaker work a lot faster.</p>

        <h3>GameMaker won't open my game???</h3>
        <p>It doesn't like reading games straight from a USB drive.</p>
        <p>Copy your game folder onto the desktop, then open it from there. When you leave the room, remember to copy it back onto your USB drive.</p>
    </div>
  </div>

<h2>Workshop Activities</h2>

<h3>Creating Sprites, Objects and Rooms</h3>

<p>You need to be able to do this before you can do any of the other activities.</p>

<p>
   <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseSpritesObjectsRooms" aria-expanded="false" aria-controls="collapseExample">
     Tell me about Sprites, Objects and Rooms
   </button>
 </p>
 <div class="collapse" id="collapseSpritesObjectsRooms">
   <div class="card card-block">

    <p>Start a new project.</p>
    <h4>Create a sprite:</h4>
    <ul>
      <li>Right-click on the Sprites label on the left side of the screen and choose Create Sprite.</li>
      <li>This opens up the Sprite Properties</li>
      <li>Change the name to spr_player</li>
      <li>Click ‘Edit Sprite’ to open the Sprite Editor</li>
      <li>Click on the blank page icon to create a sprite</li>
      <img src="images/sprite-editor-new.png">
      <li>You can accept the default size of 32 x 32 and click 'OK'</li>
      <img src="images/sprite-editor-new-2.png">
      <li>The Image Editor appears. Use the drawing tools to draw a quick picture, then close the Image Editor and Sprite Editor.</li>
      <li>In the <i>Sprite Properties</i> window, center the sprite by clicking ‘Center’ in the origin box</li>

    </ul>

    <h4>Create another sprite:</h4>
    <ul>
      <li>Follow the same process as above</li>
      <li>Name this sprite spr_wall</li>
      <li>Draw an image of a wall.</li>
      <li>Remember to center it.</li>
    </ul>

    <h4>Create objects</h4>

    <ul>
      <li>Right click on ‘Objects’ in the main window and choose Create Object.</li>
      <li>Name the object obj_player</li>
      <li>Click on ‘&lt;no sprite>’ and change it to spr_player</li>
      <li>Create another object named obj_wall and change its sprite to spr_wall</li>
    </ul>

    <h4>Create a room</h4>
    <ul>
      <li>Create a room by right-clicking on Rooms and choosing Create Room.</li>
      <li>In the Room Editor, you can place objects:</li>
      <li> Clicking on the ‘objects tab’</li>
      <li>clicking in the empty area below the tab and choose what object to place</li>
      <li>Click inside the room to place copies of that object</li>
      <li>Place one obj_player and many obj_walls in your room.</li>
      <li>Close the room editor</li>
    </ul>

    <h4>Set up Player events</h4>
    <ul>
      <li>Set up the obj_player events and actions:</li>
      <li>Select obj_player so the Object Editor appears again.</li>
      <li>Use the button below the Events section to add a Create event.</li>
      <li>On the right hand side, click on the ‘control’ tab - this will show the code blocks.</li>
      <li>Drag the blank white page icon into the Actions box. This is you saying ‘When this object is created, I want some code to be read.’</li>
      <li>A code editor will pop up - you can close it for now.</li>
      <li>Now create another Event: A step event. You will be asked to choose what kind of step, choose the normal step.</li>
      <li>Once again, drag the blank white page icon into the Actions box. This is you saying: ‘On every step of the game, I want some code to be read’.</li>
      <li>A code editor will pop up again - you can close it for now.</li>
      <li>You can bring the code editor back by clicking on the code action. Make sure you choose the right event first! There are two different code sections, one inside the ‘Create’ event and one inside the ‘Step’ event.</li>
    </ul>

    <p>The Create event happens once when an object is created. The Step event happens over and over again, usually 30 or 60 times each second.</p>
    </div>
  </div>

  <h3>Coding Basics</h3>

  <p>
     <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapsecodingbasics" aria-expanded="false" aria-controls="collapseExample">
       Show me basic coding examples
     </button>
   </p>
   <div class="collapse" id="collapsecodingbasics">
     <div class="card card-block">

         <h5>A comment</h5>
        <pre><code>
//this does nothing
//lines that start with two slashes are ignored by the computer
//these are called comments and you use them to make helpful notes</code></pre>

<h5>if-statement</h5>

<p>If-statements let you make something only happen in a certain situation. A real life example would be "If I'm hungry, I buy a hamburger."</p>

<p>In the code, the curley brackets {} show what code is connected to the if-statement. All code in the curley brackets will be skipped if the answer to the question is false.</p>

<pre><code>
//if the right arrow key is pressed, move 4 pixels to the right
if (keyboard_check(vk_right))
{
 x = x + 5
}</code></pre>

<h5>if-else-statements</h5>
<p>Do one thing or do the other thing. You have to do one.</p>
<p>Real life example: if I'm at home, make dinner, otherwise buy a hamburger.</p>
<pre><code>
//move fast when hungry, otherwise move slow
if (hungry = 1)
{
  x = x + 10
} else
{
 x = x + 5
}
}</code></pre>

<h5>Nested if-statements</h5>
<p>Nested means 'one inside another'. A real life example would be:<br>If I'm hungry, then { if I'm at home, make dinner, otherwise buy a hamburger.}</p>
<p>If you say 'no' to the outer if-statement, then you skip over all the code inside its curely brackets.</p>
<pre><code>
//if the right arrow key is pressed, then move. If you are hungry, move fast, otherwise move slow.
if (keyboard_check(vk_right))
{
  if (hungry = 1)
  {
    x = x + 10
  } else
  {
   x = x + 5
  }
}</code></pre>

         <h5>Using a variable</h5>
         <pre><code>
//if the right arrow key is pressed, move 4 pixels to the right
key_right = keyboard_check(vk_right)
if (key_right)
{
 x += 4
}</code></pre>
         <h5>More variables</h5>
         <pre><code>
//if the right arrow key is pressed, move 4 pixels to the right
movespeed = 4
key_right = keyboard_check(vk_right)
if (key_right)
{
 x += movespeed
}</code></pre>
         <h5>Check if a wall is in the way</h5>
         <pre><code>
//gravity: if we can move down 4 pixels without touching an obj_wall, then move down 4 pixels
//note that place_meeting tells us if we would be touching overlapping an object if we moved to a certain place
if (!place_meeting(x,y+4,obj_wall))
{
 y += 4
}</code></pre>


     </div>
  </div>

<h3>Player movement, gravity and jumping</h3>

<p>This is a slightly simplified version of the code in Shaun Spalding's tutorial (linked at the start of this document). It works the same.</p>

<p>
   <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapsemovementcode" aria-expanded="false" aria-controls="collapseExample">
     Show me the code!
   </button>
 </p>
 <div class="collapse" id="collapsemovementcode">
   <div class="card card-block">
<pre><code>///put this in the player Create event code
       yspeed = 0

       ///put this in the player Step event code
       dir = 0
       walkspeed = 20
       if (keyboard_check(vk_right))
       {
         dir = 1
       }
       if (keyboard_check(vk_left))
       {
         dir = -1
       }

       //movement code
       if (keyboard_check(vk_right) || keyboard_check(vk_left))
       {
         if (!place_meeting(x + dir * walkspeed, y, obj_wall))
         {
           x += dir * walkspeed
         } else
         {
           while (!place_meeting(x + dir * 1, y, obj_wall))
           {
             x += dir * 1
           }
         }
       }

       //gravity
       yspeed = yspeed + 1
       ydir = sign(yspeed)
       if (ydir != 0)
       {
           if (!place_meeting(x, y + yspeed, obj_wall))
           {
             y += yspeed
           } else
           {
             while (!place_meeting(x, y + ydir, obj_wall))
             {
               y += ydir
             }
             yspeed = 0
           }
       }

       //jump
       if (keyboard_check(vk_space))
       {
         if (place_meeting(x, y + 1, obj_wall))
         {
           yspeed = -20
         }
       }</code></pre>


     </div>
   </div>

  <h3>Simple animations example</h3>

  <p>You will need to create new sprites for each animation.</p>

  <p>To use this code, you need a sprites called <b>spr_player</b> and <b>spr_player_run</b></p>

  <p>A sprite can be a single image, or a series of images (an animation).</p>

  <p>
     <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseanimationcode" aria-expanded="false" aria-controls="collapseExample">
       Show me the code!
     </button>
   </p>
   <div class="collapse" id="collapseanimationcode">
     <div class="card card-block">
<pre><code>
  //animations (put this in obj_player Step code)
  //if left arrow or right arrow is pressed
  if (keyboard_check(vk_right) || keyboard_check(vk_left))
  {
    //do a running animation
    sprite_index = spr_player_run //this needs to be the name of a sprite
  } else
  {
    //do a standing animation
    sprite_index = spr_player
  }
  //direction
  if (keyboard_check(vk_left))
  {
   image_xscale = -1 //flip the sprite
  } else
  {
    image_xscale = 1 //do not flip the sprite
  }
  //To do: if the player is not on the ground, show a falling animation
  //To do: if the player is not on the ground
  //      show a jumping animation if they are falling upwards (yDir is -1)
  //     else show a falling animation
</code></pre>
      </div>
    </div>


    <h3>Simple Main Menu</h3>

    <p>A menu where players can select different options using the keyboard.</p>

    <p>
       <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapsemenucode" aria-expanded="false" aria-controls="collapseExample">
         Show me how!
       </button>
     </p>
     <div class="collapse" id="collapsemenucode">
       <div class="card card-block">
         <p>Create a new Object, called obj_menu. Do not give it a sprite.</p>

         <p>Create a new Font, called fnt_menu. You do this much like creating Sprites, Objects and Rooms. You can change the font and font size.</p>

         <p>Create a new Room, called rm_menu. Reorder it so it is the first room, by dragging it up into the first spot in the list of rooms. GameMaker will start it first when you start your game.</p>

         <p>Add one obj_menu object into the room.</p>

         <p>Give obj_menu a Create event, a Step (normal step) event and a Draw (Draw GUI) event. Inside each event, add the Code action that we always use.</p>

         <img src="images/obj_menu.png">

         <p>If you want to draw anything custom on the screen, you need to add a Draw or Draw GUI event. Code inside these events is allowed to draw.</p>

         <p>The difference between Draw and Draw GUI is that GUI drawing stays 'stuck' to the camera when the camera moves.
           For example, if you wanted to draw a health bar in the corner of the screen, use Draw GUI. The normal Draw action
            draws into the world. For example, if you wanted to show a health bar above an object in the game, you would use
             Draw and that healthbar would scroll out of view as the object scrolled out of view.</p>

<p>Put this in the Create event</p>
  <pre><code>///put this in the menu Create event
menu[0] = "Start"
menu[1] = "Options"
menu[2] = "Quit"

mpos = 0 //which option is selected
</pre></code>

<p>Put this in the Step event</p>
<pre><code>
//arrow keys move through the menu
if (keyboard_check_pressed(vk_down))
{
  mpos = mpos + 1
}
if (keyboard_check_pressed(vk_up))
{
  mpos = mpos - 1
}
//wrap around if we go off the end
if (mpos < 0)
{
  mpos = 2
}
if (mpos > 2)
{
  mpos = 0
}
//menu actions
if (keyboard_check_pressed(vk_enter))
{
  if (mpos = 0) //start
  {
    room_goto_next()
  }
  if (mpos = 2) //quit
  {
    game_end()
  }
}
</pre></code>

<p>Put this in the Draw event</p>
<pre><code>
  draw_set_font(fnt_menu)
  for (i = 0; i < 3; i++)
  {
    if (mpos = i)
    {
      //drawing selected option
      draw_set_colour(c_red)
    } else
    {
      //drawing non-selected option
      draw_set_colour(c_blue)
    }
    draw_text(100, 100+i*60,menu[i])
  }
  </code></pre>
        </div>
      </div>


      <h3>Simple Shooting</h3>

      <p>Making one object create other objects can be used for many purposes besides shooting, but we'll use shooting as it is a classic example.</p>

      <p>
         <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#collapseshooting" aria-expanded="false" aria-controls="collapseExample">
           Show me how!
         </button>
       </p>
       <div class="collapse" id="collapseshooting">
         <div class="card card-block">

<p>Create a new sprite, spr_shot to represent a shot (or bullet) and then an object named obj_shot with a Create event and Step (normal) event.</p>

<p>Shot Create action:</p>
<pre><code>
dir = 0
</code></pre>

<p>Shot Step action:</p>
<pre><code>
x = x + dir * 10
</code></pre>

<p>The code above lets us change the direction of the shot (left or right) by changing its dir variable to -1 for left or 1 for right.</p>

<p>Add this to obj_player step action:</p>
<pre><code>
//shooting
if (keyboard_check(vk_control))
{
  shot = instance_create(x,y,obj_shot)
  shot.dir = dir
}
</code></pre>

<p>The code creates a new obj_shot object, and creates a variable 'shot' we can use to change variables inside the shot.</p>

  </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
